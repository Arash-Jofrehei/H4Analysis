<draw>
plots eff_hv1 eff_hv2 eff_hv time_hv1
saveAs root pdf
</draw>

<eff_hv1>
preProc 'gROOT->Macro("setStyle.C")' 'gStyle->SetCanvasDefW(700)' 'gStyle->SetTitleYOffset(1.1)' 'gStyle->SetLegendTextSize(0.04)'
legendXY 0.3 0.2 0.8 0.5
histos h
type eff
<h>
        fitParam 2
        src 'ntuples/ntuples_BTF2015_v1/hv1_scan.root' 'h4'
        var 'HV1'
        cut 'run!=2055 && fabs(X-15)<10 && fabs(Y-15)<10 && charge_sig[MiB2]>1000'
        selection 'charge_sig[D9040] > 80'
        bins 100 1600 2600
        title ';Bias voltage stack-1 (V);efficiency'
        legendEntry 'Bias stack-2 fixed (2700 V)'
        graphicalOptions GetXaxis()->SetNdivisions(507)        
</h>
</eff_hv1>

<eff_hv2= eff_hv1>
<h>
        src 'ntuples/ntuples_BTF2015_v1/hv2_scan.root' 'h4'
        var 'HV2'
        cut 'fabs(X-15)<10 && fabs(Y-15)<10 && charge_sig[MiB2]>1000'
        title ';Bias voltage stack-2 (V);efficiency'
        legendEntry 'Bias stack-1 fixed (2700 V)'
</h>
</eff_hv2>

<eff_hv= eff_hv1>
<h>
        src 'ntuples/ntuples_BTF2015_v1/hv_scan.root' 'h4'
        var 'HV2+HV1'
        cut 'fabs(X-15)<10 && fabs(Y-15)<10 && charge_sig[MiB2]>1000'
        bins 100 2900 6000
        title ';Bias voltage (V);efficiency'
        legendEntry 'HV1 = HV2'
</h>
</eff_hv>

<time_hv1>
preProc 'gROOT->Macro("setStyle.C")' 'gStyle->SetCanvasDefW(700)' 'gStyle->SetTitleYOffset(1.1)' 'gStyle->SetLegendTextSize(0.04)'
type 'y-slices'
histos h
<h>
        fitParam 2        
        src 'ntuples/ntuples_BTF2015_v1/hv1_scan.root' 'h4'
        var 'time[D9040]-time[MiB2]:amp_max[D9040]'
        cut 'fabs(X-15)<10 && fabs(Y-15)<10 && charge_sig[MiB2]>1000 && charge_sig[D9040]>80 && HV1==2500'
        bins 5 20 1000 500 -2 0
        title ';amplitude;#sigma_{t} (ns)'
</h>
<time_hv1>